name: blueprint-1
version: 6
formatVersion: 1
inputs:
  namespaceName:
    type: string
  storageClass:
    type: string
  className:
    type: string
    default: e2e-small
  imageName:
    type: string
resources:
  CCI_Supervisor_Namespace_1:
    type: CCI.Supervisor.Namespace
    properties:
      name: ${input.namespaceName}
      existing: true
  Virtual_Machine_1:
    type: CCI.Supervisor.Resource
    properties:
      context: ${resource.CCI_Supervisor_Namespace_1.id}
      manifest:
        apiVersion: vmoperator.vmware.com/v1alpha2
        kind: VirtualMachine
        metadata:
          name: vm-gr-${env.shortDeploymentId}
        spec:
          imageName: ${input.imageName}
          className: ${input.className}
          powerState: PoweredOn
          storageClass: ${input.storageClass}
